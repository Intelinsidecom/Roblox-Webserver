;// bundle: page___912d4c509b2dc3ea730e8eb9cb0e3bd7_m
;// files: Item/ContextMenu.js, utilities/robloxAds.js, NumberFormatting.js, ItemPurchaseForDialog.js, utilities/dialog.js, Tracking/ModalEvents.js, Events/AssetActionButtonClickEvent.js, Item/PurchaseItem.js, widgets/Favorites.js, ~/viewapp/common/constants/assetTypes.js, ~/viewapp/pages/recommendations/recommendations.js, ~/viewapp/pages/recommendations/controllers/recommendationsController.js, ~/viewapp/pages/recommendations/services/recommendationsPageService.js, Comments.js, captcha/constants/captchaConstants.js, captcha/captchaService.js, GenericModal.js, Item/ItemPage.js, utilities/popover.js, Navigation/ShopAmazon.js, GenericConfirmation.js, Tracking/FormEvents.js, ~/viewapp/common/directives/toggleLoadingDirective.js, ~/viewapp/common/formEvents/formEvents.js, ~/viewapp/common/formEvents/directives/formInteraction.js, ~/viewapp/common/formEvents/directives/formContext.js, ~/viewapp/widgets/emailAndPhoneUpsell/emailAndPhoneUpsell.js, ~/viewapp/widgets/emailAndPhoneUpsell/constants/emailAndPhoneUpsellConstants.js, ~/viewapp/widgets/emailAndPhoneUpsell/services/emailAndPhoneUpsellService.js, ~/viewapp/widgets/emailAndPhoneUpsell/controllers/emailAndPhoneUpsellController.js, ~/viewapp/widgets/emailAndPhoneUpsell/controllers/emailAndPhoneUpsellModalController.js, TosModalCheck.js, AbuseReport/AbuseReportDispatcher.js

;// Item/ContextMenu.js
$(function(){function w(){var t=$("#sell-content-wrapper"),n=t.find(".sell-price").val(),i=t.find(".price-form"),u=i.find(".form-control-label"),f=t.find(".commission"),e=t.find(".after-commission");if(!$.isNumeric(n)||Math.floor(n)!=n||n<=0)return i.addClass("form-has-error"),u.removeClass("invisible"),f.text(""),e.text(""),!1;i.removeClass("form-has-error"),u.addClass("invisible");var o=Math.round(n*h),r=o>1?o:1,s=n-r;return f.text(r>0?Roblox.NumberFormatting.commas(r):""),e.text(s>=0?Roblox.NumberFormatting.commas(s):""),!0}function u(n){c.text(n),Roblox.BootstrapWidgets.ToggleSystemMessage(c,e,o)}function t(n){f.text(n),Roblox.BootstrapWidgets.ToggleSystemMessage(f,e,o)}function r(n){u(n),setTimeout(function(){window.location.reload()},1e3)}function b(n,t,i,r,f){u(n);var e=$(".rbx-popover-content").find(i);t?e.attr("data-toggle","False").text(r):e.attr("data-toggle","True").text(f)}function k(){$.post(v,a,function(n){n.isValid?r("Successfully removed from your inventory"):t("Failed to delete item from inventory")})}function d(){var n=$("#item-container").data("item-id");$.post("/badges/enable?badgeId="+n,null,function(n){n.success?r("Successfully enabled the badge"):t("Failed to enable badge")})}function g(){var n=$("#item-container").data("item-id");$.post("/badges/disable?badgeId="+n,null,function(n){n.success?r("Successfully disabled the badge"):t("Failed to disable badge")})}function nt(){var r=$("#sell-content-wrapper"),n=r.find($(".sell-price")).val();if(!$.isNumeric(n)||Math.floor(n)!=n||n<=0)return!1;var u=parseInt($(".below-market-warning").attr("data-low-price-warning-percentage")),t=parseInt($("#item-average-price").text().replace(/,/g,"")),f=t*u/100,i=Number($("#sell-content-wrapper .serial-dropdown").val());return n<t-f?Roblox.Dialog.open({titleText:"Sell Your Collectible Item",bodyContent:$("#confirm-sell-modal").clone().attr("id","confirm-sell-content-wrapper").removeClass("hidden"),onAccept:function(){Roblox.Resellers.sellItem(n,i)},fieldValidationRequired:!0,allowHtmlContentInBody:!0,acceptText:"Yes",declineText:"Cancel",xToCancel:!0,onOpenCallback:function(){var i=$("#confirm-sell-content-wrapper");i.find(".attempted-sell-price").text(Roblox.NumberFormatting.commas(parseInt(n))),i.find(".average-price").text(Roblox.NumberFormatting.commas(parseInt(t)))}}):(Roblox.Dialog.close(),Roblox.Resellers.sellItem(n,i)),!1}function p(){window.location=Roblox.Endpoints.getAbsoluteUrl("/premium/membership")}var c=$(".content .alert-success"),o=2e3,e=100,h=.25,s=$("#sell-modal-content .commission-label").data("rate"),i=$("#item-container"),tt=i.data("item-id"),v="/asset/delete-from-inventory",a={assetId:tt},l=i.data("delete-url"),y,f,n;l&&(v=l,y=i.data("delete-id"),a={id:y}),f=$(".content .alert-warning"),$.isNumeric(s)&&(h=s);$("body").on("keyup",".sell-price",function(){w()});n=!1;$("#item-context-menu").on("click",".popover-content .toggle-wear",function(r){if(r.preventDefault(),!n){n=!0;var f=$(".popover-content .toggle-wear").data("toggle");$("#item-context-menu").find(".rbx-menu-item").popover("hide"),$.ajax({type:"POST",url:i.data(f?"avatar-remove-url":"avatar-wear-url"),success:function(){$(".rbx-popover-content .toggle-wear").attr("data-toggle",!f).text(f?"Wear":"Take Off"),u(f?"Removed from your avatar":"Added to your avatar"),n=!1},error:function(i){n=!1;var r=i.responseJSON.errors&&i.responseJSON.errors.length>0?i.responseJSON.errors[0].message:"Error occured";t(r)}})}});$("#item-context-menu").on("click",".popover-content .toggle-profile",function(n){n.preventDefault();var i=$(".popover-content").find(".toggle-profile").attr("data-toggle")==="True",r=$("#item-container").attr("data-item-id");$("#item-context-menu").find(".rbx-menu-item").popover("hide"),$.post("/asset/toggle-profile",{assetId:r,addToProfile:!i},function(n){if(n.isValid){var r=i?"Removed from your profile":"Added to your profile";b(r,i,".toggle-profile","Add to Profile","Remove from Profile")}else t(i?"Failed to remove from profile":"Failed to add to profile")})});$("#item-context-menu").on("click",".popover-content #delete-item",function(){Roblox.Dialog.open({titleText:"Delete Item",bodyContent:"Are you sure you want to permanently <span class='font-bold'>DELETE</span> this item from your inventory?",onAccept:k,xToCancel:!0,allowHtmlContentInBody:!0})});$("#item-context-menu").on("click",".popover-content #enable-badge",function(){Roblox.Dialog.open({titleText:"Enable Badge",bodyContent:"Are you sure you want to enable this Badge?",onAccept:d,xToCancel:!0})});$("#item-context-menu").on("click",".popover-content #disable-badge",function(){Roblox.Dialog.open({titleText:"Disable Badge",bodyContent:"Are you sure you want to disable this Badge?",onAccept:g,xToCancel:!0})});$("#item-context-menu").on("click",".popover-content #sell",function(){var n=$("#ItemPurchaseAjaxData");n.attr("data-user-bc")=="0"?Roblox.Dialog.open({titleText:"Sell Your Collectible Item",bodyContent:"Only Builders Club members can re-sell collectible items. Get Builders Club today!",onAccept:p,acceptText:"Upgrade",declineText:"Cancel",xToCancel:!0}):($("#sell-modal-content").find(".form-control-label").addClass("invisible"),Roblox.Dialog.open({titleText:"Sell Your Collectible Item",bodyContent:$("#sell-modal-content").clone().attr("id","sell-content-wrapper").removeClass("hidden"),onAccept:nt,fieldValidationRequired:!0,allowHtmlContentInBody:!0,acceptText:"Sell Now",declineText:"Cancel",xToCancel:!0}))});$("#item-context-menu").on("click",".popover-content #take-off-sale",function(){Roblox.Dialog.open({titleText:"Take Off Sale",bodyContent:$("#take-off-sale-modal-content").clone().attr("id","take-off-sale-content-wrapper").removeClass("hidden"),onAccept:function(){var n=Number($("#take-off-sale-content-wrapper .serial-dropdown").val());Roblox.Resellers.takeItemOffSale(n)},fieldValidationRequired:!0,allowHtmlContentInBody:!0,acceptText:"Take Off Sale",declineText:"Cancel",xToCancel:!0})})});

;// utilities/robloxAds.js
"use strict";var Roblox=Roblox||{};Roblox.AdsHelper=Roblox.AdsHelper||{},Roblox.AdsLibrary={},Roblox.AdsLibrary.adsIdList=["Skyscraper-Abp-Left","Skyscraper-Abp-Right","Leaderboard-Abp","GamePageAdDiv1","GamePageAdDiv2","GamePageAdDiv3","ProfilePageAdDiv1","ProfilePageAdDiv2"],Roblox.AdsLibrary.adsParameters={"Skyscraper-Abp-Left":{element:$("#Skyscraper-Abp-Left"),template:null,fitTwoAds:!0,fitOneAd:!1,isSkyscraper:!0},"Skyscraper-Abp-Right":{element:$("#Skyscraper-Abp-Right"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isSkyscraper:!0},"Leaderboard-Abp":{element:$("#Leaderboard-Abp"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isLeaderboard:!0},GamePageAdDiv1:{element:$("#GamePageAdDiv1"),template:null,isPageAd:!0},GamePageAdDiv2:{element:$("#GamePageAdDiv2"),template:null,isPageAd:!0},GamePageAdDiv3:{element:$("#GamePageAdDiv3"),template:null,isPageAd:!0},ProfilePageAdDiv1:{element:$("#ProfilePageAdDiv1"),template:null,isPageAd:!0},ProfilePageAdDiv2:{element:$("#ProfilePageAdDiv2"),template:null,isPageAd:!0}},Roblox.AdsHelper.AdRefresher=function(){function c(n){return!n||!$.trim($(n).html())}function h(n){t.push(n)}function s(){return googletag.pubadsReady}function r(n){var u,f,e,i;typeof n=="undefined"&&(n=v),u=!1;for(f in t){if(e="#"+t[f]+" [data-js-adtype]",i=$(e),typeof i=="undefined")return;if(i.attr("data-js-adtype")==="iframead")o(i);else if(i.attr("data-js-adtype")==="gptAd")if(s())u=!0;else if(n>0){setTimeout(function(){r(--n)},y);break}}u&&googletag.cmd.push(function(){googletag.pubads().refresh()})}function o(n){var i=n.attr("src"),r,u,t;typeof i=="string"&&(r=i.indexOf("?")<0?"?":"&",u=i+r+"nocache="+(new Date).getMilliseconds().toString(),typeof n[0]!="undefined")&&(t=n[0].contentDocument,t===undefined&&(t=n[0].contentWindow),t.location.href!=="about:blank"&&t.location.replace(u))}function n(n,t,i){i.length&&c(i)&&(i.append(n),r())}function b(){for(var u=$(window).width(),f,r,t,i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t&&!t.template&&(f=t.element,t.template=f.html());for(i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)(r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t)&&(t.isSkyscraper?u>=e&&t.fitTwoAds?n(t.template,r,t.element):u<e&&u>=l?t.fitOneAd?n(t.template,r,t.element):t.element.empty():t.element.empty():t.isLeaderboard?u<p?t.element.empty():n(t.template,r,t.element):t.isPageAd&&(u<w?t.element.empty():n(t.template,r,t.element)))}var t=[],i=20,u=970,f=160,p=728,y=100,v=16,e=$("[data-max-width-for-two-ads]").attr("data-max-width-for-two-ads")||u+f*2+48-i,l=$("[data-max-width-for-one-ads]").attr("data-max-width-for-one-ads")||u+f+24-i,a=1024,w=a-i;return{registerAd:h,refreshAds:r,adjustAdsFitScreen:b,getAds:n}}(),Roblox.AdsHelper.DynamicAdCreator=function(){function n(){var n=$(".dynamic-ad").filter(".unpopulated");n.each(function(n,t){var i=$(t),u=i.attr("data-ad-slot"),f=parseInt(i.attr("data-ad-width")),e=parseInt(i.attr("data-ad-height")),r=i.children(".ad-slot").attr("id");googletag.cmd.push(function(){var n=googletag.defineSlot(u,[f,e],r).addService(googletag.pubads());googletag.display(r),googletag.pubads().refresh([n])}),i.removeClass("unpopulated")})}return{populateNewAds:n}}(),$(function(){$(window).resize(function(){Roblox.AdsHelper.AdRefresher.adjustAdsFitScreen()})});

;// NumberFormatting.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.NumberFormatting=="undefined"&&(Roblox.NumberFormatting=function(){var n=function(n){if(typeof n!="number")throw"'number' is not a number";return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t=function(t){var i,r,u;if(typeof t!="number")throw"'number' is not a number";var f=1e4,e=1e6,o=1e9;return t==0?"0":t<f?n(t):(i="B+",r=9,t<e?(i="K+",r=3):t<o&&(i="M+",r=6),u=t.toString(),u.substring(0,u.length-r)+i)};return{abbreviatedFormat:t,commas:n}}());

;// ItemPurchaseForDialog.js
var Roblox=Roblox||{};Roblox.ItemPurchase=function(n,t,i){function o(n){n+="";for(var i=n.split("."),t=i[0],u=i.length>1?"."+i[1]:"",r=/(\d+)(\d{3})/;r.test(t);)t=t.replace(r,"$1,$2");return t+u}function p(n){return n<1?n+"":n<1e4?o(n):n>=1e6?Math.floor(n/1e6)+"M+":Math.floor(n/1e3)+"K+"}function s(){window.location.href=Roblox.Endpoints.getAbsoluteUrl("/login/Default.aspx")+"?ReturnUrl="+encodeURIComponent(location.pathname+location.search)}function b(n){return n.toUpperCase()===h?h:n}function e(n,r){var f=$(n),y;if(f.attr("data-modal-field-validation-required")==="true"&&(r=""),Roblox.Dialog.toggleProcessing(!0),!f.hasClass("btn-disabled-primary")){var s=f.attr("data-product-id"),h=parseInt(f.attr("data-expected-price")),a=f.attr("data-expected-currency"),e=f.attr("data-placeproductpromotion-id"),v=f.attr("data-expected-seller-id"),o=f.attr("data-userasset-id");if(t)return t({productId:s,expectedPrice:h,expectedCurrency:a,expectedPromoId:e,expectedSellerId:v,userAssetId:o});y=Roblox.Endpoints.getAbsoluteUrl("/API/Item.ashx")+"?rqtype=purchase&productID="+s+"&expectedCurrency="+a+"&expectedPrice="+h+(e===undefined?"":"&expectedPromoID="+e)+"&expectedSellerID="+v+(o===undefined?"":"&userAssetID="+o),$.ajax({type:"POST",url:y,contentType:"application/json; charset=utf-8",success:function(n){n.statusCode==500?(Roblox.Dialog.toggleProcessing(!1,r),u(n)):(Roblox.Dialog.toggleProcessing(!1,r),i?g():c(n))},error:function(n){if(Roblox.Dialog.toggleProcessing(!1,r),$.modal.close(".ProcessingView"),n.responseText==="Bad Request")Roblox.Dialog.open({titleText:Roblox.ItemPurchase.strings.errorOccured,bodyContent:Roblox.ItemPurchase.strings.purchasingUnavailable,imageUrl:l,acceptText:Roblox.ItemPurchase.strings.okText,acceptColor:Roblox.Dialog.white,declineColor:Roblox.Dialog.none,dismissable:!0,allowHtmlContentInBody:!0});else{var t=$.parseJSON(n.responseText);u(t)}}})}}function u(n){var t,i;if(n.showDivID==="TransactionFailureView")Roblox.Dialog.open({titleText:n.title,bodyContent:n.errorMsg,imageUrl:l,acceptText:Roblox.ItemPurchase.strings.okText,acceptColor:Roblox.Dialog.white,declineColor:Roblox.Dialog.none,dismissable:!0,allowHtmlContentInBody:!0});else if(n.showDivID==="InsufficientFundsView"){var r=Roblox.ItemPurchase.strings.buyText+" Robux",u="",f=!1;Roblox.Dialog.open({titleText:Roblox.ItemPurchase.strings.insufficientFundsTitle,bodyContent:Roblox.ItemPurchase.strings.insufficientFundsText.format(Roblox.NumberFormatting.commas(n.shortfallPrice)),acceptText:r,acceptColor:Roblox.Dialog.green,onAccept:function(){return window.location=Roblox.Endpoints.getAbsoluteUrl("/Upgrades/Robux.aspx")+"?ctx="+n.source,!1},declineText:Roblox.ItemPurchase.strings.cancelText,imageUrl:y,footerText:u,allowHtmlContentInBody:!0,allowHtmlContentInFooter:f,fieldValidationRequired:!0,dismissable:!0,xToCancel:!0})}else n.showDivID==="PriceChangedView"&&(t="targetSelector"in n?$(n.targetSelector):$(".PurchaseButton[data-item-id="+n.AssetID+"][data-expected-currency="+n.expectedCurrency+"][data-expected-price="+n.expectedPrice+"]"),i=function(){t.attr("data-expected-price",n.currentPrice),t.attr("data-expected-currency",n.currentCurrency),e(t,"PurchaseVerificationView")},Roblox.Dialog.open({titleText:Roblox.ItemPurchase.strings.priceChangeTitle,bodyContent:Roblox.ItemPurchase.strings.priceChangeText.format(n.expectedPrice,n.currentPrice),acceptText:Roblox.ItemPurchase.strings.buyNowText,acceptColor:Roblox.Dialog.green,onAccept:i,declineText:Roblox.ItemPurchase.strings.cancelText,footerText:Roblox.ItemPurchase.strings.balanceText.format(n.balanceAfterSale),allowHtmlContentInBody:!0,allowHtmlContentInFooter:!0,dismissable:!0,checkboxAgreementText:Roblox.ItemPurchase.strings.agreeAndPayText,checkboxAgreementRequired:!0}))}function d(n,t){var i,st,ut,rt,h,g,it,r,c,ft;if(t=typeof t!="undefined"?t:"item",i=$(n),!i.hasClass("btn-disabled-primary")){if(nt){u({showDivID:"TransactionFailureView",title:"Error",errorMsg:v});return}if(st=i.attr("data-bc-requirement"),st>w&&a==="False"){showBCOnlyModal("BCOnlyModal");return}var vt=i.attr("data-item-name").escapeHTML(),l=parseInt(i.attr("data-expected-price")),at=i.attr("data-expected-currency"),lt=b(i.attr("data-seller-name")),ot=i.attr("data-asset-type"),ct=i.attr("data-item-id"),et=$("#ItemPurchaseAjaxData").attr("data-footer-text"),ht=et==null?"":et;if($("#ItemPurchaseAjaxData").attr("data-footer-text",null),f=ot=="Place",a==="True"){s();return}var yt=i.hasClass("rentable"),tt=parseInt(k)-l,d="",p="",y="";if(yt?(d=Roblox.ItemPurchase.strings.rentText,p=Roblox.ItemPurchase.strings.rentItemTitle,y=Roblox.ItemPurchase.strings.rentNowText):l==0?(d=Roblox.ItemPurchase.strings.getText,p=Roblox.ItemPurchase.strings.getItemTitle,y=Roblox.ItemPurchase.strings.getNowText):(d=Roblox.ItemPurchase.strings.buyTextLower,p=Roblox.ItemPurchase.strings.buyItemTitle,y=Roblox.ItemPurchase.strings.buyNowText),tt<0){ut={shortfallPrice:0-tt,currentCurrency:at,showDivID:"InsufficientFundsView",isPlace:f,source:t},u(ut);return}rt=$("#ItemPurchaseAjaxData").attr("data-imageurl"),h="",h=l==0?"<span class='text-robux'>"+Roblox.ItemPurchase.strings.freeText+"</span>":"<span class='icon-robux-16x16'></span><span class='text-robux'>"+Roblox.NumberFormatting.commas(l)+"</span>",g="",g+=o(tt),it=function(){return e(n,"PurchaseVerificationView")},r=i.attr("data-purchase-title-text"),r=r?r:p,c=i.attr("data-purchase-body-content"),c=c?c.format(h):Roblox.ItemPurchase.strings.buyItemText.format(d,vt,ot,lt,h,f?Roblox.ItemPurchase.strings.accessText:""),ft=i.attr("data-modal-field-validation-required")==="true",Roblox.Dialog.open({titleText:r,bodyContent:c,imageUrl:rt,xToCancel:!0,acceptText:f?Roblox.ItemPurchase.strings.buyAccessText:y,acceptColor:Roblox.Dialog.green,onAccept:it,declineText:Roblox.ItemPurchase.strings.cancelText,footerText:(ht.length==0?Roblox.ItemPurchase.strings.balanceText:ht).format(g),allowHtmlContentInBody:!0,allowHtmlContentInFooter:!0,dismissable:!0,fieldValidationRequired:ft,cssClass:"need-padding",onOpenCallback:function(){if($(".modal-confirmation .roblox-item-image").html("").attr("data-item-id",ct),Roblox.require("Widgets.ItemImage",function(n){n.load($(".modal-confirmation .roblox-item-image"))}),Roblox.ModalEvents&&i){var n=i.attr("data-button-type");n&&Roblox.ModalEvents.SendAssetPurchaseConfirmationShown("assetPurchaseConfirmation",n)}}})}}function g(){var n=$(".system-feedback .alert-success");n.length>0&&Roblox.BootstrapWidgets&&(Roblox.BootstrapWidgets.ToggleSystemMessage(n,100,1e3),setTimeout(function(){window.location.reload()},1e3))}function c(t){var i;i=t.Price==0?"<span class='text-robux'>"+Roblox.ItemPurchase.strings.freeText+"</span>":"<span class='icon-robux-16x16'></span><span class='text-robux'>"+t.Price+"</span>";var s=$("#ItemPurchaseAjaxData").attr("data-imageurl"),h=function(){var n=$("#ItemPurchaseAjaxData").attr("data-continueshopping-url");n!=undefined&&n!=""&&(document.location.href=n)},c=function(){var n=Roblox.Endpoints.getAbsoluteUrl("/my/avatar");n!=undefined&&n!=""&&(document.location.href=n)},r="",u=Roblox.ItemPurchase.strings.continueText,e=Roblox.Dialog.none,l=f?Roblox.ItemPurchase.strings.accessText:"",o;t.AssetType==="VIP Server"?(r=Roblox.ItemPurchase.strings.continueShoppingText,u=Roblox.ItemPurchase.strings.notNowText,e=Roblox.Dialog.blue,o=h):t.AssetIsWearable&&(r=Roblox.ItemPurchase.strings.customizeCharacterText,e=Roblox.Dialog.white,u=Roblox.ItemPurchase.strings.notNowText,o=c),Roblox.Dialog.open({titleText:Roblox.ItemPurchase.strings.purchaseCompleteTitle,bodyContent:Roblox.ItemPurchase.strings.purchaseCompleteText.format(t.TransactionVerb,t.AssetName.escapeHTML(),t.AssetType,t.SellerName,i,l),imageUrl:s,acceptText:r,declineText:u,xToCancel:!0,onAccept:o,onDecline:function(){window.location.reload()},acceptColor:e,declineColor:Roblox.Dialog.white,allowHtmlContentInBody:!0,dismissable:!0,onOpenCallback:function(){$(".modal-confirmation .roblox-item-image").html("").attr("data-item-id",t.AssetID),Roblox.require("Widgets.ItemImage",function(n){n.load($(".modal-confirmation .roblox-item-image"))})}}),n(t)}if(!(this instanceof Roblox.ItemPurchase))return new Roblox.ItemPurchase(n,t,i);t=typeof t=="undefined"?!1:t;var r=$("#ItemPurchaseAjaxData"),a=r.attr("data-authenticateduser-isnull"),k=r.attr("data-user-balance-robux"),w=r.attr("data-user-bc"),l=r.attr("data-alerturl"),y=r.attr("data-inSufficentFundsurl"),f=!1,nt=r.attr("data-has-currency-service-error")==="True",v=r.attr("data-currency-service-error-message"),h="ROBLOX";return{purchaseItem:e,openPurchaseVerificationView:d,openPurchaseConfirmationView:c,redirectToLogin:s,purchaseConfirmationCallback:n,openErrorView:u,addCommasToMoney:o,formatMoney:p}},Roblox.ItemPurchase.ModalClose=function(n){$.modal.close("."+n)},Roblox.ItemPurchase.strings={insufficientFundsTitle:"Insufficient Funds",insufficientFundsText:"You need <span class='icon-robux-16x16'></span><span class='text-robux'>{0}</span> more to purchase this item. ",cancelText:"Cancel",okText:"OK",buyText:"Buy",buyTextLower:"buy",priceChangeTitle:"Item Price Has Changed",priceChangeText:"While you were shopping, the price of this item changed from <span class='icon-robux-gray-16x16'></span>{0} to <span class='icon-robux-gray-16x16'></span>{1}.",buyNowText:"Buy Now",buyAccessText:"Buy Access",buildersClubOnlyTitle:"{0} Only",buildersClubOnlyText:"You need {0} to buy this item.",buyItemTitle:"Buy Item",buyItemText:"Would you like to {0} {5}the {2}: <span class='font-bold'>{1}</span> from {3} for {4}?",balanceText:"Your balance after this transaction will be <span class='icon-robux-gray-16x16'></span>{0}",freeText:"Free",purchaseCompleteTitle:"Purchase Complete",purchaseCompleteText:"You have successfully {0} {5}the <span class='font-bold'>{1}</span> {2} from {3} for {4}.",continueShoppingText:"Configure",notNowText:"Not Now",continueText:"Continue",customizeCharacterText:"Customize",orText:"or",rentItemTitle:"Rent Item",rentText:"rent",rentNowText:"Rent Now",getItemTitle:"Get Item",getText:"get",getNowText:"Get Now",accessText:"access to ",invalidLinkTitle:"Invalid Link",invalidLinkText:"This VIP Server link is no longer valid.",errorOccured:"Error Occured",purchasingUnavailable:"Purchasing is temporarily unavailable. Please try again later.",agreeAndPayText:"Agree and Pay"};

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function tt(f){var k,o,v,p,e,b;n.isOpen=!0,k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.Dialog.yes,declineText:Roblox.Resources.Dialog.No,acceptColor:r,declineColor:u,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:t,cssClass:null,checkboxAgreementText:Roblox.Resources.Dialog.Agree,checkboxAgreementRequired:!1},f=$.extend({},k,f),i.overlayClose=f.dismissable,i.escClose=f.dismissable,f.onCloseCallback&&(i.onClose=function(){f.onCloseCallback(),t()}),o=$(s),o.html(f.acceptText),o.attr("class",f.acceptColor),o.unbind(),o.bind("click",function(){return y(o)?!1:(f.fieldValidationRequired?w(f.onAccept):l(f.onAccept),!1)}),v=$(h),v.html(f.declineText),v.attr("class",f.declineColor),v.unbind(),v.bind("click",function(){return y(v)?!1:(l(f.onDecline),!1)}),p=$(g),p.unbind(),p.bind("change",function(){p.is(":checked")?a(o):c(o)}),e=$('[data-modal-type="confirmation"]'),e.find(".modal-title").text(f.titleText),f.imageUrl==null?e.addClass("noImage"):(e.find("img.modal-thumb").attr("src",f.imageUrl),e.removeClass("noImage")),n.extraClass&&(e.removeClass(n.extraClass),n.extraClass=!1),f.cssClass!=null&&(e.addClass(f.cssClass),n.extraClass=f.cssClass),f.allowHtmlContentInBody?e.find(".modal-message").html(f.bodyContent):e.find(".modal-message").text(f.bodyContent),f.checkboxAgreementRequired?(c(o),e.find(".modal-checkbox.checkbox > input").prop("checked",!1),e.find(".modal-checkbox.checkbox > label").text(f.checkboxAgreementText),e.find(".modal-checkbox.checkbox").show()):(e.find(".modal-checkbox.checkbox > input").prop("checked",!0),e.find(".modal-checkbox.checkbox").hide()),$.trim(f.footerText)==""?e.find(".modal-footer").hide():e.find(".modal-footer").show(),f.allowHtmlContentInFooter?e.find(".modal-footer").html(f.footerText):e.find(".modal-footer").text(f.footerText),e.modal(i),b=$(".modal-header .close"),b.unbind(),b.bind("click",function(){return l(f.onCancel),!1}),f.xToCancel||b.hide(),f.showAccept||o.hide(),f.showDecline||v.hide(),$("#rbx-body").addClass("modal-mask"),f.onOpenCallback()}function c(n){n.hasClass(u)?n.addClass(o):n.hasClass(v)?n.addClass(f):n.hasClass(r)&&n.addClass(e)}function y(n){return n.hasClass(e)||n.hasClass(o)||n.hasClass(f)?!0:!1}function p(){var n=$(s),t=$(h);c(n),c(t)}function a(n){n.hasClass(o)?(n.removeClass(o),n.addClass(u)):n.hasClass(f)?(n.removeClass(f),n.addClass(v)):n.hasClass(e)&&(n.removeClass(e),n.addClass(r))}function b(){var n=$(s),t=$(h);a(n),a(t)}function k(){if(n.isOpen){var t=$(s);t.click()}}function d(){var n=$(h);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function l(n){t(),typeof n=="function"&&n()}function w(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}function it(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var v="btn-primary-md",r="btn-secondary-md",u="btn-control-md",f="btn-primary-md disabled",e="btn-secondary-md disabled",o="btn-control-md disabled",nt="btn-none",s=".modal-btns #confirm-btn",h=".modal-btns #decline-btn",g="#modal-checkbox-input",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:t,focus:!1};return{open:tt,close:t,disableButtons:p,enableButtons:b,clickYes:k,clickNo:d,status:n,toggleProcessing:it,green:v,blue:r,white:u,none:nt}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});

;// Tracking/ModalEvents.js
Roblox=Roblox||{},Roblox.ModalEvents=function(){function n(n,t,i){Roblox.EventStream&&Roblox.EventStream.SendEvent(n,t,i)}function t(t,i){var r={referralButton:i};n("assetPurchaseConfirmationShown",t,r)}return{SendAssetPurchaseConfirmationShown:t}}();

;// Events/AssetActionButtonClickEvent.js
var Roblox=Roblox||{};Roblox.AssetActionButtonClickEvent=function(){var n="data-button-action",t=function(t){var i=t.attr(n);i&&Roblox.EventStream.SendEvent("assetActionButtonClick",i,{})},i=function(){if(Roblox.EventStream)$("a["+n+"], button["+n+"]").on("click",function(){t($(this))})};return{Init:i}}(),$(function(){Roblox.AssetActionButtonClickEvent.Init()});

;// Item/PurchaseItem.js
"use strict";var Roblox=Roblox||{};Roblox.PurchaseItem=function(){var n=$("#item-container"),t=$(".PurchaseButton, .InstallButton").first(),i;t.length>0&&(t.attr("data-expected-price",n.attr("data-expected-price")),t.attr("data-bc-requirement",n.attr("data-bc-requirement")),t.attr("data-product-id",n.attr("data-product-id")),t.attr("data-item-id",n.attr("data-item-id")),t.attr("data-item-name",n.attr("data-item-name")),t.attr("data-asset-type",n.attr("data-asset-type")),t.attr("data-expected-currency",n.attr("data-expected-currency")),t.attr("data-expected-seller-id",n.attr("data-expected-seller-id"))),i=$(".PurchaseButton"),i.length>0&&(i.attr("data-seller-name",n.attr("data-seller-name")),i.attr("data-userasset-id",n.attr("data-lowest-private-sale-userasset-id")))}();

;// widgets/Favorites.js
var Roblox=Roblox||{};$(function(){var i=$("#favorite-icon"),y=$("#toggle-favorite"),u=$(".favorite-button-container .tooltip-container"),f=i.length,v=y.data("signin-url"),a="Login Required",o="Remove from Favorites",s="Add to Favorites",l="You must be logged in to add this to your favorites. Please Login or Register to continue",r=$(".favoriteCount"),n=0,c=$(".favorite-button, #toggle-favorite"),t=i.hasClass("favorited"),e=t?o:s,h=["0","1","2","3","4","5","6","7","8","9"],p=200,w=2e3;f?u.attr("data-original-title",e):u.attr("title",e),c.click(function(){var u=$(this);u.find(i).hasClass("icon-favorite")&&u.attr("data-isguest").toLowerCase()==="true"?Roblox.Dialog.open({titleText:a,bodyContent:l,onAccept:function(){window.location.href=v},acceptColor:Roblox.Dialog.blue,acceptText:"Login",declineText:"Cancel"}):$.post(u.data("toggle-url"),{assetID:u.data("assetid")},function(e){var a,l,v,b,y,c,k;if(e.success){for(t=!t,u.find(i).toggleClass("favorited"),a=!0,l=r.text(),v=0;v<l.length&&a;v++)b=l[v],b!==","&&$.inArray(b,h)<0&&(a=!1);a&&(l=l.replace(",",""),n=parseInt(l,10)),y="",c="",y=t?o:s,a&&!isNaN(n)&&(t?n++:n--,c=n.toString(10),n>=1e4?c="10K+":n>=1e3&&(c=[c.slice(0,1),",",c.slice(1)].join("")),n>0?r.text(c):r.text("0")),f?u.closest(".tooltip-container").attr("data-original-title",y):u.closest("a").attr("title",y)}else k=$(".content .alert-warning"),Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage&&k.length&&Roblox.BootstrapWidgets.ToggleSystemMessage(k,p,w,e.message)})})});

;// ~/viewapp/common/constants/assetTypes.js
robloxApp.constant("assetTypes",{ids:{gamePasses:21,badges:34}});

;// ~/viewapp/pages/recommendations/recommendations.js
"use strict";var recommendations=angular.module("recommendations",[]).config(["$injector",function(n){if(Roblox.I18nData&&Roblox.I18nData.isI18nForRecommendationsEnabled){var t=n.get("languageResourceProvider");t.setLanguageKeysFromFile(Roblox.Lang.recommendations)}}]);

;// ~/viewapp/pages/recommendations/controllers/recommendationsController.js
"use strict";recommendations.controller("recommendationsController",["$scope","recommendationsService","$log","$document",function(n,t,i,r){var u=0;n.appMeta={isI18nEnabled:Roblox.I18nData&&Roblox.I18nData.isI18nForRecommendationsEnabled||!1},n.initialize=function(){n.recommendationsLayout=n.recommendationsLayout?n.recommendationsLayout:{numberOfItemsToDisplay:0,assetId:0},n.recommendationsData=n.recommendationsData?n.recommendationsData:{items:[],assetTypeName:"items"}},n.initializeWithModelValues=function(t,i,r){n.recommendationsLayout.numberOfItemsToDisplay=r,n.recommendationsLayout.assetId=t,n.getItems(i)};$(document).on("Roblox.Recommendations.Init",function(t,i,r,u){n.initializeWithModelValues(i,r,u)});$(document).on("Roblox.Recommendations.GetItems",function(t,i,r){n.getItems(i,r)});$(document).on("Roblox.Recommendations.Clear",function(){n.recommendationsData.items=[],u++});n.getItems=function(r,f){if(n.recommendationsData.items=[],t.canShowRecommendationsForAssetType(r)){f&&(n.recommendationsData.assetTypeName=f);var o=Roblox.InventoryData.inventoryDomain,e=Roblox.InventoryData.useInventorySite,s=++u;t.beginUpdateRecommendedItems(n.recommendationsLayout.assetId,r,n.recommendationsLayout.numberOfItemsToDisplay,o,e).then(function(t){if(s!==u){i.debug("Request came back but was not latest");return}t&&t.data?e?(angular.forEach(t.data,function(n){n.HasPrice=n.Item&&n.Item.Price}),n.recommendationsData.items=t.data):(angular.forEach(t.data.Items,function(n){n.HasPrice=n.Item&&n.Item.Price}),n.recommendationsData.items=t.data.Items):i.debug(" ------ beginUpdateRecommendedItems no data received -------")},function(){i.debug(" ------ beginUpdateRecommendedItems error -------")})}},n.initialize(),r.triggerHandler("Roblox.Recommendations.FinishedInit")}]);

;// ~/viewapp/pages/recommendations/services/recommendationsPageService.js
"use strict";recommendations.factory("recommendationsService",["httpService","assetTypes","$log",function(n,t){return{canShowRecommendationsForAssetType:function(n){var i=t.ids;return n>0&&n!==i.gamePasses&&n!==i.badges},beginUpdateRecommendedItems:function(t,i,r,u,f){var s=u+"/v1/recommendations/"+i,o={numItems:r},e;return t>0&&(o.contextAssetId=t),e={url:s},f||(e.url="/assets/recommended-json",e.noCache=!0,o.assetTypeId=i),n.httpGet(e,o)}}}]);

;// Comments.js
var Roblox=Roblox||{};Roblox.Comments=function(){function k(){Roblox.Captcha.render(o,Roblox.Captcha.types.postComment,Roblox.Comments.makeComment),Roblox.Captcha.execute()}function g(){var n=$("#"+o);return n[0].children.length>0?(Roblox.Captcha.reset(Roblox.Captcha.types.postComment,Roblox.Comments.makeComment),!0):!1}var b=!1,f=Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("/"):"/",ut=Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("/comments/post"):"/comments/post",rt=Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("/comments/delete"):"/comments/delete",n=$("#AjaxCommentsContainer"),h=$(".comment-form"),u=n.find(".rbx-comment-error"),e=n.find(".rbx-comment-count"),i=h.find(".rbx-post-comment"),t=h.find(".rbx-comment-input"),it=$(".loader-template").children(":first"),tt=function(){r(u,"",!0,!0),d(),c(),f=n.data("signin-url")},o="send-comment-captcha",d=function(){i.click(function(){var i=t.val();if(i.trim()!=""){if(n.attr("data-is-user-authenticated").toLowerCase()=="false"){Roblox.Dialog.open({titleText:"Login to Comment",bodyContent:"<div>You must login to comment.</div> <div>Please <a href='"+f+"'>login or register</a> to continue.</div>",onAccept:function(){window.location.href=f},acceptText:"Login",declineText:"Cancel",allowHtmlContentInBody:!0});return}if(Roblox.Comments.FilterIsEnabled&&l(i)){Roblox.Dialog.open({titleText:Roblox.Comments.Resources.linksNotAllowedTitle,bodyContent:Roblox.Comments.Resources.linksNotAllowedMessage,acceptText:"Ok",declineText:"Cancel",allowHtmlContentInBody:!0});return}Roblox.Comments.makeComment()}});t.on({focus:function(){$(this).removeClass("blur")},blur:function(){$(this).addClass("blur")}});t.on("input propertychange",function(){var f=t[0],i=Roblox.Comments.Limits,e,n;for(r(u,"",!0,!0),e=!1,n=0;n<i.length;++n)v(f.value,i[n].limit,i[n].character)||(f.value=nt(f.value,i[n].limit,i[n].character),r(u,i[n].message,!1),e=!0),e||typeof i[n].character!="undefined"||a(f.value,i[n].limit)});$(".comments").on("click",".rbx-comment-remove",function(){elem=$(this),Roblox.Comments.deleteComment(elem.attr("data-comment-id")),elem.parents(".comment-item").remove()});$(".rbx-comments-see-more").on("click",function(){var n=$(".comments .comment-item").length;Roblox.Comments.getComments(n)});$(window).on("scroll resize",function(){Roblox.Comments.loadCommentsIfReady()})},c=function(){Roblox.Comments&&!Roblox.Comments.gotFirstComments&&Roblox.Comments.isCommentBlockInViewport()&&(Roblox.Comments.getComments(0),Roblox.Comments.gotFirstComments=!0)},ft=function(){var r=$(window),t=r.scrollTop(),u=t+r.height(),i=n.offset().top,f=i+n.height();return i>=t&&i<=u||f>=t&&f<=u},s=function(n,t){var i=$(".comments-item-template").clone(),r;return t&&(i.find(".comment-controls .rbx-comment-report-link").remove(),i.find(".comment-controls").append("<a class='rbx-comment-remove' data-comment-id='"+n.Id+"' title='Remove Comment'><span class='icon-remove'></span></a>")),r=Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("/users/"+n.AuthorId+"/profile"):"/users/"+n.AuthorId+"/profile",i.find(".comment-item").attr("data-comment-id",n.Id),i.find(".comment-user .Avatar a").attr("title",n.AuthorName).attr(r),i.find(".comment-body .text-name").text(n.AuthorName).attr("href",r),i.find(".comment-user .Avatar").addClass("roblox-avatar-image").attr("data-user-id",n.AuthorId).html(""),i.find(".comment-body span.xsmall").text(n.PostedDate),i.find(".comment-content").html(n.Text.replace(/\$/g,"&#36;")),i.find(),i=i.html(),i=i.replace("%CommentID",n.Id),i=i.replace("%PageURL",encodeURIComponent(window.location.href))},w=function(){i.attr("disabled",!0),$.post(ut,{assetId:n.attr("data-asset-id"),text:t.val()},function(n){var f,i;typeof n.Id!="undefined"?(f={Id:n.Id,PostedDate:n.PostedDate,Text:n.Text,AuthorName:n.AuthorName,AuthorId:n.AuthorId,AuthorThumbnail:{Url:""}},t.val(""),e.html(""),r(u,"",!0,!0),i=$(".comments"),i.find(".empty").remove(),i.prepend(s(f,!1)),Roblox.require("Widgets.AvatarImage",function(n){n.populate()})):p(n.error)}).always(function(){i.removeAttr("disabled")})},p=function(n){n=="01"?Roblox.Dialog.open({titleText:Roblox.Comments.Resources.emailVerifiedABTitle,bodyContent:Roblox.Comments.Resources.emailVerifiedABMessage,onAccept:function(){var n=Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl("/my/account?confirmemail=1"):"/my/account?confirmemail=1";window.location.href=n},acceptText:Roblox.Comments.Resources.accept,declineText:Roblox.Comments.Resources.decline,allowHtmlContentInBody:!0}):n&&n==="Captcha"?g()||k():r(u,n,!1,!0)},y=function(t){var r,i;t=t==undefined?0:t,r=n.attr("data-asset-id"),i=$(".comments"),i.find(".empty,.more").remove(),i.append(it.clone());var u=Math.floor(Math.random()*9001),f=100,e=100,o="PNG";$.ajax({type:"GET",url:"/comments/get-json",data:{assetId:r,startindex:t,thumbnailWidth:f,thumbnailHeight:e,thumbnailFormat:o,cachebuster:u},contentType:"application/json; charset=utf-8",success:function(n){var r=n.Comments,e=n.MaxRows,u=$(".rbx-comments-see-more"),f;i.find(".loading-animated,.empty,.more").remove();for(f in r)i.append(s(r[f],n.IsUserModerator));!r||r.length<e?u.addClass("hidden"):u.removeClass("hidden"),r&&(r.length!=0||t!=0)||i.append($('<div class="empty">'+Roblox.Comments.Resources.noCommentsFound+"</div>")),Roblox.require("Widgets.AvatarImage",function(n){n.populate()})},error:function(){$(".comments").find(".loading-animated,.empty,.more").remove().append($('<div class="empty">'+Roblox.Comments.Resources.sorrySomethingWentWrong+"</div>"))}})},a=function(n,t){e.html(Math.max(0,Math.min(t,t-n.length))+" "+Roblox.Comments.Resources.charactersRemaining)},l=function(n){return new RegExp(Roblox.Comments.FilterRegex).test(n.replace(/(\r\n|\n|\r|<br\/>)/gm,""))?!0:!1},r=function(n,t,r,u){u=typeof u=="undefined"?!1:u,r=typeof r=="undefined"?!0:r,u&&n.empty(),n.append(t+" "),r?(n.hide(),i.removeAttr("disabled")):(n.show(),e.html(""),i.attr("disabled",!0))},v=function(n,t,i){if(i=typeof i=="undefined"?"":i,i!==""){var r=n.split(i).length-1;return r<=t}return n.length<=t},nt=function(n,t,i){if(i=typeof i=="undefined"?"":i,i!==""){var f=n.split(i),e=f.length,u="",r;if(e>t)for(r=0;r<e;++r)u+=f[r],r<t&&(u+=i);n=u}else n=n.substr(0,t);return n},et=function(n){$.post(rt,{commentId:n},function(){$(".comments [data-comment-id="+n+"]").parents(".comment-item")})};return{initialize:tt,getComments:y,makeComment:w,deleteComment:et,gotFirstComments:b,isCommentBlockInViewport:ft,loadCommentsIfReady:c}}();

;// captcha/constants/captchaConstants.js
"use strict";var Roblox=Roblox||{};Roblox.CaptchaConstants=Roblox.CaptchaConstants||{endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:""},serviceData:{sitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50"},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment"},messages:{error:"We currently cannot verify CAPTCHA, please try again later."}};

;// captcha/captchaService.js
"use strict";var Roblox=Roblox||{},grecaptcha=window.grecaptcha||null,EventTracker=window.EventTracker||null;Roblox.Captcha=function(){function r(n){return n.charAt(0).toUpperCase()+n.slice(1)}function a(n){return n.charAt(0).toLowerCase()+n.slice(1)}function h(){return(new Date).valueOf()}function y(t){for(var e=1e3,u=n.captchaSolvedPrefix,f=n.captchaSolveTimeIntervals,r,i=0;i<f.length;i++)if(r=f[i],t<=r.seconds*e)return u+r.suffix;return u+n.captchaSolveTimeLarge}function p(n){var t=y(n);EventTracker.fireEvent(r(i+t))}function c(i,u){var e={"g-Recaptcha-Response":u,isInvisible:t.invisible};$.ajax({method:"POST",data:e,success:function(){EventTracker.fireEvent(r(i+n.successSuffix)),o&&(o(),$("#"+l).empty())},error:function(){EventTracker.fireEvent(r(i+n.failSuffix)),f&&f(),Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3,Roblox.CaptchaConstants.messages.error)},url:s[i]})}var s=Roblox.CaptchaConstants.endpoints,l,t={invisible:!1},n=Roblox.CaptchaConstants.serviceData,e,i,o,f,u,v=function(n){if(typeof u=="function"&&u(),e){var t=h()-e;p(t),e=null}c(i,n)};return{types:Roblox.CaptchaConstants.types,setEndpoint:function(n,t){s[n]=t},getEndpoint:function(n){return s[n]},setInvisibleMode:function(n){t.invisible=n},getInvisibleMode:function(){return t.invisible},setSiteKey:function(t){n.sitekey=t},verify:c,reset:function(n,r,e,s){i=n,o=r,f=e,u=s,grecaptcha&&(grecaptcha.reset(),t.invisible&&grecaptcha.execute())},render:function(s,c,a,y,p){if(i=c,o=a,f=y,u=p,l=s,grecaptcha){var w={sitekey:n.sitekey,callback:v};t.invisible&&(w.size="invisible"),grecaptcha.render(s,w),EventTracker.fireEvent(r(i+n.displayedSuffix)),e=h()}},execute:function(){grecaptcha&&t.invisible&&grecaptcha.execute()},setMultipleEndpoints:function(n,t){var i,r;if(n&&t)for(i=0;i<n.length;i++)r=a(n[i]),s[r]=t}}}();

;// GenericModal.js
typeof Roblox.GenericModal=="undefined"&&(Roblox.GenericModal=function(){function s(u,f,e,s,h,c){var l,a;t.isOpen=!0,n=$.extend({},n,c),i=s,l=$("div.GenericModal").filter(":first"),l.find("div.Title").text(u),f===null?l.addClass("noImage"):(l.find("img.GenericModalImage").attr("src",f),l.removeClass("noImage")),l.find("div.Message").html(e),h&&(l.removeClass("smallModal"),l.addClass("largeModal")),a=l.find(o),a.attr("class","btn-large "+n.acceptColor),a.unbind(),a.bind("click",function(){r()}),l.modal(n)}function r(){t.isOpen=!1,$.modal.close(),typeof i=="function"&&i()}var f="btn-primary",u="btn-neutral",e="btn-negative",o=".ImageButton.btn-neutral.btn-large.roblox-ok",t={isOpen:!1},n={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},acceptColor:u},i;return $(function(){$(document).on("click",".GenericModal .roblox-ok",function(){r()})}),{close:r,open:s,status:t,green:f,blue:u,gray:e}}()),Roblox.GenericModal.Resources={ErrorText:"Error",ErrorMessage:"Sorry, an error occurred."},$(document).keypress(function(n){n.which===13&&Roblox.GenericModal.status.isOpen&&Roblox.GenericModal.close()});

;// Item/ItemPage.js
var Roblox=Roblox||{};Roblox.ItemPage=function(){function u(){var n=$("#item-container"),f=n.data("asset-granted"),u=n.data("forward-url");f==="True"&&Roblox.Dialog.open({titleText:t,bodyContent:i,acceptText:r,acceptColor:Roblox.Dialog.green,onAccept:function(){if(u){var n=window.open(u,"_blank");n.focus()}},declineColor:Roblox.Dialog.none,dismissable:!0,xToCancel:!0})}function f(){var n={feature:"Avatar",urlPath:null};Roblox&&Roblox.Hybrid&&Roblox.Hybrid.Navigation&&Roblox.Hybrid.Navigation.navigateToFeature(n,function(){})}var n=Roblox.I18nData&&Roblox.I18nData.isI18nForItemEnabled?new Roblox.Intl:!1,t=n?n.f(Roblox.Lang.item["Label.AssetGrantedModalTitle"]):"This item is now yours",i=n?n.f(Roblox.Lang.item["Label.AssetGrantedModalMessage"]):"You just got this item courtesy of our sponsor.",r=n?n.f(Roblox.Lang.item["Label.AssetGrantedModalAcceptText"]):"OK";return{ShowGrantedItemPopUp:u,OpenInAppAvatarEditor:f}}(),$(function(){function n(){var n=$(".sale-clock .text"),t,i;n.length&&(t=$("#item-container").data("current-time"),i=$("#sale-clock").data("off-sale-deadline"),Roblox.CountdownTimer.InitializeClock(t,i,function(t){var i;i=t.days<1?"Offsale in <span>"+t.hours+"</span> h <span>"+t.minutes+"</span> m <span>"+t.seconds+"</span> s ":"Offsale in <span>"+t.days+"</span> d <span>"+t.hours+"</span> h <span>"+t.minutes+"</span> m ",n.html(i)}))}Roblox.ItemReskinPurchase=new Roblox.ItemPurchase(null,null,!0);$("#item-container").on("click",".PurchaseButton",function(){Roblox.ItemReskinPurchase.openPurchaseVerificationView($(this))});$("#open-in-avatar-editor-button").on("click",function(){Roblox.ItemPage.OpenInAppAvatarEditor()});$(".container-main").hasClass("in-app")||$(".description-content").linkify(),Roblox.BootstrapWidgets.ToggleContent(),Roblox.ItemPage.ShowGrantedItemPopUp(),n(),Roblox&&Roblox.Performance&&Roblox.Performance.setPerformanceMark("itemReskin_end")});

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function o(){$(t).on("click touchstart",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:e,o;n=f(r),r.hasClass("manual")||r.toggleClass(n),o=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:o,eventType:t.type}),o&&u(h,l)})}function s(){$("body").on("click touchstart",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function h(){o(),s()}var t=".roblox-popover",i=".roblox-popover-content",e=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){h()}),{setUpTrianglePosition:u}}();

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function t(){$("a.roblox-shop-interstitial").on("click",function(n){n.preventDefault(),Roblox.Dialog.open({titleText:"You are leaving ROBLOX",bodyContent:r(),allowHtmlContentInBody:!0,acceptText:"Continue to Shop",declineText:"Cancel",xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:i})})}function i(){window.open(n,"_blank")}function r(){return"<p>Your are about to visit our amazon store. You will be redirected to ROBLOX merchandise store on <a class='text-link' target='_blank' href='"+n+"' >Amazon.com</a>.</p> <p>Please note that you need to be over 18 to purchase products online. The amazon store is not part of ROBLOX.com and is governed by a separate privacy policy.</p>"}function u(){t()}var n="https://www.amazon.com/roblox?&_encoding=UTF8&tag=r05d13-20&linkCode=ur2&linkId=4ba2e1ad82f781c8e8cc98329b1066d0&camp=1789&creative=9325";$(function(){u()})}();

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// Tracking/FormEvents.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.FormEvents=="undefined"&&(Roblox.FormEvents=function(){function n(n,t,i){Roblox.EventStream&&Roblox.EventStream.SendEvent(n,t,i)}function t(t,i,r,u){var f={msg:u,input:r,field:i,vis:!0};n("formValidation",t,f)}function i(t,i){var r={aType:"focus",field:i};n("formInteraction",t,r)}function r(t,i,r){var u={aType:"offFocus",field:i};r&&(u.input=r),n("formInteraction",t,u)}function u(t,i){var r={aType:"click",field:i};n("formInteraction",t,r)}return{SendValidationFailed:t,SendInteractionFocus:i,SendInteractionOffFocus:r,SendInteractionClick:u}}());

;// ~/viewapp/common/directives/toggleLoadingDirective.js
"use strict";robloxApp.directive("toggleLoading",[function(){return{restrict:"A",link:function(n,t,i){var f=i.isInline,e='<div class="spinner spinner-sm spinner-no-margin'+(f?"":" spinner-block")+'"></div>',r=angular.element(e),u;t.after(r),r.hide(),u=n.$watch(i.isLoading,function(n,i){if(n!==i)if(n){var u=t[0].offsetHeight,f=t[0].offsetWidth;r.css("height",u+"px"),r.css("width",f+"px"),t.hide(),r.show()}else t.show(),r.hide()},!0),n.$on("$destroy",function(){u&&u()})}}}]);

;// ~/viewapp/common/formEvents/formEvents.js
"use strict";var formEvents=angular.module("roblox.formEvents",[]);

;// ~/viewapp/common/formEvents/directives/formInteraction.js
"use strict";formEvents.directive("rbxFormInteraction",function(){return{require:"^form",restrict:"A",link:function(n,t,i,r){var u=i.sendInputValue;t.bind("blur",function(){if(Roblox.FormEvents){var n=angular.element(this),t;u&&(t=n.val()),Roblox.FormEvents.SendInteractionOffFocus(r.context,n.attr("name"),t)}}).bind("focus",function(){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionFocus(r.context,angular.element(this).attr("name"))})}}});

;// ~/viewapp/common/formEvents/directives/formContext.js
"use strict";formEvents.directive("rbxFormContext",function(){return{require:"form",restrict:"A",link:function(n,t,i,r){var u=r.$name;r.context=i.context+u.charAt(0).toUpperCase()+u.substr(1)}}});

;// ~/viewapp/widgets/emailAndPhoneUpsell/emailAndPhoneUpsell.js
"use strict";var emailAndPhoneUpsell=angular.module("emailAndPhoneUpsell",["roblox.formEvents","modal"]);

;// ~/viewapp/widgets/emailAndPhoneUpsell/constants/emailAndPhoneUpsellConstants.js
"use strict";emailAndPhoneUpsell.constant("emailAndPhoneUpsellConstants",{templates:{emailAndPhoneUpsell:"email-and-phone-upsell"},urls:{getScreen:"/v1/user/screens/contact-upsell",submitEmail:"/account/changeemail",verifyEmail:"/my/account/sendverifyemail"},screenTypes:{none:"None",addEmail:"AddEmail",emailForm:"EmailForm",verifyEmail:"VerifyEmail"},events:{addEmail:"addEmail",verifyEmail:"verifyEmail",modalAction:"modalAction"},modalActions:{shown:"shown",dismissed:"dismissed"},eventContext:"contactUpsell",modalEventContextPrefix:"contactUpsell_",header:"Don't get locked out!",close:"Close",addEmail:"Add Email",submit:"Submit",verifyEmail:"Verify Email",addEmailUnder13Prompt:"Please add your parent's email address to your account to ensure that you can always access your Roblox account.",addEmail13AndOverPrompt:"Please add an email address to your account to ensure that you can always access your Roblox account.",verifyEmailUnder13Prompt:"Please verify your parent's email address to ensure that you can always access your Roblox account.",verifyEmail13AndOverPrompt:"Please verify your email address to ensure that you can always access your Roblox account.",parentsEmailPlaceholder:"Parent's Email",emailPlaceholder:"Email",verifyPasswordPlaceholder:"Verify Account Password",success:"Success",invalidEmail:"Invalid email",errorMessage:"An error occurred",verifyEmailUnder13SuccessMessage:"Verification link has been sent to your email - please verify your email to secure your account.",verifyEmail13AndOverSuccessMessage:"Verification link has been sent to your parent's email - please verify your parent's email to secure your account."});

;// ~/viewapp/widgets/emailAndPhoneUpsell/services/emailAndPhoneUpsellService.js
"use strict";emailAndPhoneUpsell.factory("emailAndPhoneUpsellService",["httpService","emailAndPhoneUpsellConstants",function(n,t){function r(n){i=n}function u(){var r=i+t.urls.getScreen,u={url:r};return n.httpGet(u)}function f(i,r){var u=t.urls.submitEmail,f={url:u},e={emailAddress:i,password:r};return n.httpPost(f,e)}function e(){var i=t.urls.verifyEmail,r={url:i};return n.httpPost(r)}var i;return{setAccountSettingsDomain:r,getScreen:u,submitEmail:f,verifyEmail:e}}]);

;// ~/viewapp/widgets/emailAndPhoneUpsell/controllers/emailAndPhoneUpsellController.js
"use strict";emailAndPhoneUpsell.controller("emailAndPhoneUpsellController",["$scope","$window","$uibModal","modalService","eventStreamService","emailAndPhoneUpsellService","emailAndPhoneUpsellConstants",function(n,t,i,r,u,f,e){n.init=function(){Roblox.EmailAndPhoneUpsellMeta&&(f.setAccountSettingsDomain(Roblox.EmailAndPhoneUpsellMeta.accountSettingsApiDomain),f.getScreen().then(function(t){t&&t.upsellScreenType&&t.upsellScreenType!==e.screenTypes.none&&n.displayModal(t)}))},n.displayModal=function(t){n.modalData={upsellScreenType:t.upsellScreenType},n.sendModalEvent(e.modalActions.shown),n.launchModal()},n.launchModal=function(){var t={animation:!1,backdrop:"static",templateUrl:"email-and-phone-upsell",scope:n,controller:"emailAndPhoneUpsellModalController"};i.open(t).result.then(function(n){r.open({titleText:e.success,bodyText:n})},function(){n.sendModalEvent(e.modalActions.dismissed)})},n.sendModalEvent=function(t){var i=e.modalEventContextPrefix+n.modalData.upsellScreenType;u.sendEventWithTarget(e.events.modalAction,i,{aType:t})},n.init()}]);

;// ~/viewapp/widgets/emailAndPhoneUpsell/controllers/emailAndPhoneUpsellModalController.js
"use strict";emailAndPhoneUpsell.controller("emailAndPhoneUpsellModalController",["$scope","$uibModalInstance","regexService","eventStreamService","emailAndPhoneUpsellService","emailAndPhoneUpsellConstants",function(n,t,i,r,u,f){n.forms={emailForm:{}},n.data={},n.layout={},n.layout.constants=f,n.init=function(){n.data.isUnder13=Roblox.CurrentUser&&Roblox.CurrentUser.isUnder13,n.initializeModalData()},n.initializeModalData=function(){switch(n.modalData.upsellScreenType){case f.screenTypes.addEmail:n.initializeAddEmailModal();break;case f.screenTypes.verifyEmail:n.initializeVerifyEmailModal()}},n.initializeAddEmailModal=function(){n.layout.showAddEmailModal=!0,n.layout.modalBodyText=n.data.isUnder13?f.addEmailUnder13Prompt:f.addEmail13AndOverPrompt,n.layout.emailPlaceholder=n.data.isUnder13?f.parentsEmailPlaceholder:f.emailPlaceholder,i.getEmailRegex().then(function(t){t&&(n.layout.emailRegex=t.Regex)})},n.initializeVerifyEmailModal=function(){n.layout.showVerifyEmailModal=!0,n.layout.modalBodyText=n.data.isUnder13?f.verifyEmailUnder13Prompt:f.verifyEmail13AndOverPrompt},n.clearError=function(){n.layout.error=null},n.getError=function(){return n.isEmailValid()?n.layout.error:f.invalidEmail},n.isEmailValid=function(){return n.forms.emailForm.email.$valid},n.showEmailForm=function(){n.layout.focusOnEmailInput=!0,n.layout.showEmailForm=!0,n.modalData.upsellScreenType=f.screenTypes.emailForm,n.sendModalEvent(f.modalActions.shown)},n.getSuccessMessage=function(){return n.data.isUnder13?f.verifyEmailUnder13SuccessMessage:f.verifyEmail13AndOverSuccessMessage},n.submitEmail=function(){n.layout.isSubmitBusy=!0,n.layout.error=null,u.submitEmail(n.data.email,n.data.password).then(function(i){i||(n.sendAddEmailEvent(!1),n.layout.error=f.errorMessage),i.Success?(n.sendAddEmailEvent(!0),t.close(n.getSuccessMessage())):(n.sendAddEmailEvent(!1,i.Message),n.layout.error=i.Message)},function(){n.sendAddEmailEvent(!1),n.layout.error=f.errorMessage}).finally(function(){n.layout.isSubmitBusy=!1})},n.verifyEmail=function(){n.layout.isSubmitBusy=!0,n.layout.error=null,u.verifyEmail().then(function(i){i||(n.sendVerifyEmailEvent(!1),n.layout.error=f.errorMessage),i.Success?(n.sendVerifyEmailEvent(!0),t.close(n.getSuccessMessage())):(n.sendVerifyEmailEvent(!1,i.Message),n.layout.error=i.Message)},function(){n.sendVerifyEmailEvent(!1),n.layout.error=f.errorMessage}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendAddEmailEvent=function(t,i){n.sendActionEvent(f.events.addEmail,t,i)},n.sendVerifyEmailEvent=function(t,i){n.sendActionEvent(f.events.verifyEmail,t,i)},n.sendActionEvent=function(n,t,i){r.sendEventWithTarget(n,f.eventContext,{success:t,msg:i})},n.init()}]);

;// TosModalCheck.js
function showTosModal(){Roblox.Dialog.open({titleText:title,bodyContent:body,acceptText:"I AGREE",onAccept:submitTosAgreement,acceptColor:Roblox.Dialog.blue,fieldValidationRequired:!1,dismissable:!1,xToCancel:!1,declineColor:Roblox.Dialog.none,allowHtmlContentInBody:!0})}function submitTosAgreement(){$.ajax({type:"POST",url:agreeUrl,contentType:"application/json; charset=utf-8",success:function(){}})}var title,body,agreeUrl,submitUrl="/UserCheck/show-tos";$(function(){var n=$("#TosAgreementInfo").data("terms-check-needed");$.ajax({type:"GET",url:submitUrl,data:{isLicensingTermsCheckNeeded:n},contentType:"application/json; charset=utf-8",success:function(n){n.partialViewName&&(n.partialViewName==="CaptureTosAgreement_v2"?(title="TERMS OF USE HAVE CHANGED",body='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Terms of Use</a> and <a href="https://www.roblox.com/info/privacy" class="text-link" target="_blank">Privacy Policy</a>.',agreeUrl="/UserCheck/update-tos",showTosModal()):n.partialViewName==="CaptureTosAgreementWithExplicitLicenseClause"&&(title="TERMS OF USE AGREEMENT",body='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Roblox Terms of Use</a>. This includes the license to Roblox of past and future content you provide to the service for our use online, offline, and in tangible items.',agreeUrl="/UserCheck/update-tos-licensing",showTosModal()))},error:function(){}})});

;// AbuseReport/AbuseReportDispatcher.js
var Roblox=Roblox||{};Roblox.AbuseReportDispatcher=function(){var r=!1,i=Roblox.AbuseReportPVMeta,n=function(n,t){n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},u=function(t){var e,u,f,r,s;if(typeof t!="string")return!1;if(t=t.toLowerCase(),e=t.split("?"),u=e[0],u&&typeof u=="string"&&(f=u.split("abusereport/")[1]),f&&(r={actionName:f,id:n("id",t),redirectUrl:n("redirecturl",t)},n("conversationid",t)&&(r.conversationId=n("conversationid",t)),n("partyguid",t)&&(r.partyGuid=n("partyguid",t)),r.id&&r.redirectUrl)){var h=$.param(r),o="abusereport/embedded/"+f+"?"+h,c=Roblox.Endpoints.getAbsoluteUrl("/"+o);i.inApp?i.inAppEnabled?(s={urlPath:o,feature:"Abuse Report"},console.debug("Calling navigateToFeature for Hybrid Overlay"),Roblox.Hybrid.Navigation.navigateToFeature(s,function(n){console.debug("navigateToFeature ---- status:"+n)})):window.location.href=t:window.location.href=i.phoneEnabled?c:t}},t=function(n){n.preventDefault();var t=$(this).attr("href");t&&u(t)},f=function(){if(!r){$(".abuse-report-modal").click(t);$(".messages-container").on("click",".abuse-report-modal",t);$("#AjaxCommentsContainer").on("click",".abuse-report-modal",t);$("#item-context-menu").on("click",".abuse-report-modal",t);$(".GroupWallPane").on("click",".abuse-report-modal",t);$(".group-details-container").on("click",".abuse-report-modal",t);r=!0}};return{triggerUrlAction:u,initialize:f}}(),$(document).ready(function(){Roblox.AbuseReportDispatcher.initialize()});
